var Client=function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(2);const o=n(1);window.addEventListener("DOMContentLoaded",o)},function(t,e){t.exports=function(){const t=document.getElementById("city");document.getElementById("generate").addEventListener("click",async()=>{var e=new Date(document.getElementById("date").value),n=(new Date).getDate(),o=`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`,a=`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()+3}`,r=e.getDate()-n;const c=await(async(t,e,n)=>{const o=`${t}q=${e}&username=${n}`,a=await fetch(o);return await a.json()})("http://api.geonames.org/searchJSON?",t.value,"ovidiuantonio"),i={lat:c.geonames[0].lat,long:c.geonames[0].lng,country:c.geonames[0].countryName,daysUntilTrip:r,start:o,end:a},u=await(async(t,e,n)=>{const o=`${t}city=${e}&key=${n}`,a=await fetch(o);return await a.json()})("http://api.weatherbit.io/v2.0/forecast/daily?",t.value,"e8bf025e36934fc0aec08e26cec87147"),s=await(async(t,e,n)=>{const o=`${t}key=${n}&q=${e}&image_type=photo`,a=await fetch(o);return await a.json()})("https://pixabay.com/api/?",t.value,"15978844-66ae615deb62b69c09eb0e5c3");void 0!==s.hits&&s.hits.length>0?(u.photoURL=s.hits[0].webformatURL,u.photoError=""):(u.photoURL="",u.photoError="Couldn't find any photo to match your destination!");const l=await(async(t,e)=>{const n=`${t}${e}`,o=await fetch(n);return await o.json()})("https://restcountries.eu/rest/v2/name/",i.country);u.capital=l[0].capital,u.currency=l[0].currencies[0].name;const y={...i,...u};console.log(y),await(async(t={})=>{await fetch("/",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})})(y),(async()=>{const t=await fetch("/trip"),e=await t.json(),n=document.querySelector(".state"),o=document.querySelector(".temp"),a=document.querySelector(".until"),r=document.querySelector(".length"),c=document.querySelector(".image img"),i=document.querySelector(".facts");n.textContent=`${e.city}, ${e.country}`,o.textContent=`Min Temperature: ${e.min_temp}C - Max Temperature: ${e.max_temp}C`,a.textContent=`Days until trip: ${e.daysUntilTrip} days`,i.textContent=`Capital: ${e.capital} - Currency: ${e.currency}`,r.textContent="3 DAYS ONLY!",r.style.color="rgb(235, 250, 33)",c.setAttribute("src",""+e.image),c.setAttribute("alt",""+e.error)})()})}},function(t,e,n){}]);